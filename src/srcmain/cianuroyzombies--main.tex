\documentclass[9pt]{memoir}
\usepackage[final]{microtype}
\usepackage{fontspec}
\setmainfont[Numbers={OldStyle, Proportional},
Ligatures=TeX
]{Lato}

\usepackage[spanish]{babel}
\usepackage{graphicx,sidecap,tikz}
\usepackage[hidelinks]{hyperref}

 

% =========================
% = Setting up the layout =
% =========================

% With a 9pt body font we want a little extra line spacing (I mean *leading*)
\setSingleSpace{1.2}
\SingleSpacing

% Okay, holy crap. Calculating the correct type block height by hand is quite
% challenging (partially because not all lines are \baselineskip high;
% apparently the first line is \topskip high?), and \checkandfixthelayout will
% in the end actually *change* it so that the type block is always an integer
% multiple of lines. The easiest thing is to set the approximate desired type
% block height, the width, the left or right margin, the bottom margin, and
% the headdrop, and then let memoir take care of everything else. Changing the
% algorithm used to check the layout helps as well.
\setstocksize{9in}{6in}
\settrimmedsize{\stockheight}{\stockwidth}{*}
\settrims{0pt}{0pt}

\settypeblocksize{46\baselineskip}{4in}{*}
\setlrmargins{*}{0.5in}{*}
\setulmargins{*}{0.5in}{*}

\setheadfoot{\baselineskip}{\baselineskip} % headheight and footskip
\setheaderspaces{0.5in}{*}{*} % headdrop, headsep, and ratio

\checkandfixthelayout[lines]

% Set up custom headers and footers
\makepagestyle{stylish}
\copypagestyle{stylish}{headings}
\makerunningwidth{stylish}{5in}
\makeheadposition{stylish}{flushleft}{flushright}{}{}
\pagestyle{stylish}

% ============================
% = Table of contents tweaks =
% ============================
\setsecnumdepth{subsubsection}
\settocdepth{subsection}

% ===================
% = Marginal labels =
% ===================
\strictpagecheck % Turn on robust page checking
\captiondelim{} % Don't print a colon after "Figure #.#"

\makeatletter
\renewcommand{\fnum@figure}{%
    \checkoddpage%
    \ifoddpage%
        \makebox[0pt][l]{\hspace{-1in}{\scshape\figurename~\thefigure}}%
    \else
        \makebox[0pt][r]{{\scshape\figurename~\thefigure}\hspace*{-5in}}%
    \fi%
    }
\renewcommand{\fnum@table}{%
    \checkoddpage%
    \ifoddpage%
        \makebox[0pt][l]{\hspace{-1in}{\scshape\tablename~\thetable}}%
    \else
        \makebox[0pt][r]{{\scshape\tablename~\thetable}\hspace*{-5in}}%
    \fi%
    }
\let\mytagform@=\tagform@
\def\tagform@#1{%
\checkoddpage%
    \ifoddpage%
    \makebox[1sp][l]{\hspace{-5in}\maketag@@@{(\ignorespaces#1 \unskip \@@italiccorr)}}%
    \else
    \makebox[1sp][r]{\maketag@@@{(\ignorespaces#1 \unskip \@@italiccorr)}\hspace*{-1in}}%
    \fi%
    }
\makeatother

\usetikzlibrary{arrows,positioning,decorations.pathmorphing,trees}

\begin{document}

\frontmatter
\thispagestyle{empty}

\mbox{}\vspace{2in}
\noindent
\begin{flushright}
{\LARGE Cianuro y zombies\\[2\baselineskip]}
\end{flushright}

\vspace{6\baselineskip}
\hfill{\Large\scshape{}Stephen W. Martin}

\cleartorecto\tableofcontents*

\mainmatter


\input{../cap1AlgunosRecuerdos/capitulo1--algunosRecuerdos}

\input{../cap2AlgoNoAndaBien/capitulo2--algoNoAndaBien}


\end{document}